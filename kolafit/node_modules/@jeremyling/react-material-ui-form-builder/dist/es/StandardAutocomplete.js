import{useState as r,Fragment as t,createElement as o}from"react";import{j as e}from"./jsx-runtime-53cdfd8f.js";import n from"lodash/get";import i from"lodash/isEqual";import a from"lodash/isObject";import{Controller as u}from"react-hook-form";import{Autocomplete as l,TextField as s,Chip as f}from"@mui/material";import{s as p}from"./index-98db1f97.js";import{T as d}from"./Title-61b3472c.js";function m(r,t,o){var e=r;if(!t)return e;if(t.value)if(o&&Array.isArray(r)){for(var i=[],u=0,l=r;u<l.length;u++){var s=l[u];a(s)?i.push(n(s,t.value)):i.push(s)}e=i}else e=n(r,t.value);return e}function v(r,t,o,e){if(!o)return String(r);if(a(r))return String(n(r,o.label));if(null==o?void 0:o.value){var i=t.find((function(t){return m(t,o,e)===r}))||{};return String(n(i,o.label))}return String(r||"")}var c=function(){return c=Object.assign||function(r){for(var t,o=1,e=arguments.length;o<e;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},c.apply(this,arguments)};function g(g){var b=g.field,h=g.methods,x=h.control;h.getValues;var j=h.setValue,C=h.trigger,O=h.formState.errors,y=g.hideTitle,S=r();S[0];var T=S[1],z=function(r,t){var o=r||[];return t&&(o=p(o)),o}(b.options,b.randomizeOptions);function P(r,t){var u,l,p,d=(null===(u=r.props)||void 0===u?void 0:u.multiple)||!1;null===(l=r.props)||void 0===l||l.disableClearable,null===(p=r.props)||void 0===p||p.freeSolo;var g=c(c({id:r.id||r.attribute,size:"small",fullWidth:!0,isOptionEqualToValue:function(t,o){return a(o)?i(m(t,r.optionConfig,d),m(o,r.optionConfig,d)):m(t,r.optionConfig,d)===o},getOptionLabel:function(t){return v(t,z,r.optionConfig)},onChange:function(t,o){j(r.attribute,m(o,r.optionConfig,d))},onBlur:function(){T(!1),C(r.attribute)},onFocus:function(){return T(!0)},value:t||(d?[]:"")},r.props),{options:z,renderInput:function(t){var o;return e.exports.jsx(s,c({},t,{variant:"outlined",size:"small",inputProps:c(c({},t.inputProps),{autoComplete:"off"}),label:r.label,error:!!n(O,r.attribute),helperText:null===(o=n(O,r.attribute))||void 0===o?void 0:o.message}))}});return d&&(g=c(c({},g),{renderTags:function(t,e){return t.map((function(t,n){return o(f,c({variant:"outlined",size:"small",label:v(t,z,r.optionConfig)},e({index:n}),{key:n}))}))}})),g}return e.exports.jsx(u,{name:b.attribute,control:x,render:function(r){var o=r.field;return e.exports.jsxs(t,{children:[!y&&b.title&&e.exports.jsx(d,{field:b}),e.exports.jsx(l,c({},P(b,o.value)))]})}})}export{g as default};
