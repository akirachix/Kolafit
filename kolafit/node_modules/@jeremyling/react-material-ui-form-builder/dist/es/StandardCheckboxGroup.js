import{j as r}from"./jsx-runtime-53cdfd8f.js";import t from"lodash/get";import e from"lodash/isEqual";import{useMemo as o,Fragment as i}from"react";import{Controller as n}from"react-hook-form";import{FormGroup as a,FormControl as s,FormControlLabel as l,Checkbox as u}from"@mui/material";import{s as p}from"./index-98db1f97.js";import{g as f}from"./options-789d3062.js";import{E as c}from"./ErrorText-a1dab7b9.js";import{T as m}from"./Title-61b3472c.js";import"@mui/material/styles";var d=function(){return d=Object.assign||function(r){for(var t,e=1,o=arguments.length;e<o;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},d.apply(this,arguments)},v=function(r,t,e){if(e||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return r.concat(o||Array.prototype.slice.call(t))};function x(x){var b=x.field,g=x.methods,h=g.control;g.getValues;var j=g.setValue,y=g.trigger,k=g.formState.errors,C=x.hideTitle,A=o((function(){var r=b.options||[];return b.randomizeOptions&&(r=p(b.options||[])),r.map((function(r){return f(r,b.optionConfig)}))}),[b.options,b.optionConfig]);function O(r,t,o){if(b.multiple)if(t)j(b.attribute,v(v([],o||[],!0),[r.value],!1));else{var i=(o||[]).findIndex((function(t){return e(t,r.value)}));if(i>-1){var n=v([],o,!0);return n.splice(i,1),0===n.length&&(n=void 0),void j(b.attribute,n)}}else j(b.attribute,t?r.value:void 0)}var P=function(r,t,o){var i;return i=r.multiple&&Array.isArray(o)?o&&o.findIndex((function(r){return e(r,t.value)}))>-1:e(o,t.value),d({id:r.id||r.attribute,key:t.key,color:"primary",checked:i,onChange:function(r){return O(t,r.target.checked,o)}},r.props)},T=function(r){var e;return d(d({error:!!t(k,r.attribute),onBlur:function(){return y(r.attribute)}},r.groupContainerProps),{sx:d({flexWrap:"wrap"},null===(e=r.groupContainerProps)||void 0===e?void 0:e.sx)})};return r.exports.jsx(n,{name:b.attribute,control:h,render:function(e){var o,n=e.field;return r.exports.jsxs(i,{children:[!C&&b.title&&r.exports.jsx(m,{field:b}),r.exports.jsxs(a,{children:[r.exports.jsx(s,d({component:"fieldset"},T(b),{children:A.map((function(t,e){return r.exports.jsx(l,d({control:r.exports.jsx(u,d({},P(b,t,n.value))),label:t.label},b.labelProps),b.attribute+"-"+e)}))})),!!t(k,b.attribute)&&r.exports.jsx(c,{error:null===(o=t(k,b.attribute))||void 0===o?void 0:o.message})]})]})}})}export{x as default};
