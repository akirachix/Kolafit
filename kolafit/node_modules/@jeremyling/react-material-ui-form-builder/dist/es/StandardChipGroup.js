import{j as r}from"./jsx-runtime-53cdfd8f.js";import t from"lodash/get";import o from"lodash/isEqual";import{useMemo as e,Fragment as i}from"react";import{Controller as n}from"react-hook-form";import{FormGroup as a,FormControl as l,Box as u,Chip as s}from"@mui/material";import{s as p}from"./index-98db1f97.js";import{g as f}from"./options-789d3062.js";import{E as d}from"./ErrorText-a1dab7b9.js";import{T as c}from"./Title-61b3472c.js";import"@mui/material/styles";var m=function(){return m=Object.assign||function(r){for(var t,o=1,e=arguments.length;o<e;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},m.apply(this,arguments)},v=function(r,t,o){if(o||2===arguments.length)for(var e,i=0,n=t.length;i<n;i++)!e&&i in t||(e||(e=Array.prototype.slice.call(t,0,i)),e[i]=t[i]);return r.concat(e||Array.prototype.slice.call(t))};function x(x){var b=x.field,g=x.methods,h=g.control;g.getValues;var j=g.setValue,y=g.trigger,C=g.formState.errors,k=x.hideTitle,A=e((function(){var r=b.options||[];return b.randomizeOptions&&(r=p(b.options||[])),r.map((function(r){return f(r,b.optionConfig)}))}),[b.options,b.optionConfig]);function O(r,t){if(b.multiple){var e=(t||[]).findIndex((function(t){return o(t,r.value)}));if(e>-1){var i=v([],t,!0);return i.splice(e,1),0===i.length&&(i=void 0),void j(b.attribute,i)}j(b.attribute,v(v([],t||[],!0),[r.value],!1))}else{if(o(t,r.value))return void j(b.attribute,void 0);j(b.attribute,r.value)}}var P=function(r,t,e){var i,n,a,l;return l=r.multiple&&Array.isArray(e)?e&&e.findIndex((function(r){return o(r,t.value)}))>-1:o(e,t.value),m(m({id:r.id||r.attribute,key:t.key,label:t.label,color:l?"primary":"default",variant:l?"filled":"outlined"},r.props),{sx:m(m({height:"auto",margin:"4px 8px 4px 0",borderRadius:"20px"},null===(i=r.props)||void 0===i?void 0:i.sx),{"& .MuiChip-label":m({padding:"8px"},null===(n=r.labelProps)||void 0===n?void 0:n.style)}),onClick:(null===(a=r.props)||void 0===a?void 0:a.onClick)?r.props.onClick(t,e):function(){return O(t,e)}})},T=function(r){var o;return m(m({error:!!t(C,r.attribute),onBlur:function(){return y(r.attribute)}},r.groupContainerProps),{sx:m({flexWrap:"wrap"},null===(o=r.groupContainerProps)||void 0===o?void 0:o.sx)})};return r.exports.jsx(n,{name:b.attribute,control:h,render:function(o){var e,n=o.field;return r.exports.jsxs(i,{children:[!k&&b.title&&r.exports.jsx(c,{field:b}),r.exports.jsxs(a,{children:[r.exports.jsx(l,m({component:"fieldset"},T(b),{children:A.map((function(t,o){return r.exports.jsx(u,{children:r.exports.jsx(s,m({},P(b,t,n.value)))},b.attribute+"-"+o)}))})),!!t(C,b.attribute)&&r.exports.jsx(d,{error:null===(e=t(C,b.attribute))||void 0===e?void 0:e.message})]})]})}})}export{x as default};
