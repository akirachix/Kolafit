import{j as r}from"./jsx-runtime-53cdfd8f.js";import{parse as t,format as e}from"date-fns";import o from"lodash/get";import{useState as n,useCallback as i,Fragment as a}from"react";import{Controller as s}from"react-hook-form";import{DateRange as l}from"@mui/icons-material";import{DesktopDatePicker as u,MobileDatePicker as p,LocalizationProvider as d}from"@mui/lab";import m from"@mui/lab/AdapterDateFns";import{Box as f,InputAdornment as c,IconButton as x,TextField as y}from"@mui/material";import{T as b}from"./Title-61b3472c.js";var j=function(){return j=Object.assign||function(r){for(var t,e=1,o=arguments.length;e<o;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},j.apply(this,arguments)};function h(h){var v=h.field,g=h.methods,k=g.control;g.getValues;var M=g.setValue,T=g.trigger,w=g.formState.errors,A=h.hideTitle,C=n(),D=C[0],O=C[1],z=i((function(t){return v.keyboard?r.exports.jsx(u,j({},t)):r.exports.jsx(p,j({},t))}),[v.keyboard]),F=function(n,i){return j(j({inputFormat:"dd/MM/yyyy",label:n.label,InputProps:{endAdornment:r.exports.jsx(c,j({position:"end"},{children:r.exports.jsx(x,j({"aria-label":"open date picker",size:"large"},{children:r.exports.jsx(l,{})}))})),sx:{pr:n.keyboard?void 0:0}},open:!!D,onClose:function(){return O(!1)}},n.props),{value:i?t(i,"yyyy-MM-dd",new Date):null,onChange:function(r){if(r)try{var t=e(r,"yyyy-MM-dd");M(n.attribute,t)}catch(r){console.log(r)}else M(n.attribute,void 0)},renderInput:function(t){var e;return r.exports.jsx(y,j({fullWidth:!0,size:"small"},t,{onClick:function(){return O(!0)},error:!!o(w,n.attribute),helperText:null===(e=o(w,n.attribute))||void 0===e?void 0:e.message,onKeyDown:function(r){"Enter"===r.key&&T(n.attribute)}}))}})};return r.exports.jsx(s,{name:v.attribute,control:k,render:function(t){var e=t.field;return r.exports.jsxs(a,{children:[!A&&v.title&&r.exports.jsx(b,{field:v}),r.exports.jsx(f,{children:r.exports.jsx(d,j({dateAdapter:m},{children:z(F(v,e.value))}))})]})}})}export{h as default};
