"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./jsx-runtime-1efc2582.js"),r=require("lodash/get"),t=require("lodash/isEqual"),o=require("react"),i=require("react-hook-form"),n=require("@mui/material"),u=require("./index-dfe1fee7.js"),a=require("./options-73ec6b96.js"),l=require("./ErrorText-af871538.js"),s=require("./Title-2c571786.js");function f(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("@mui/material/styles");var c=f(r),p=f(t),d=function(){return d=Object.assign||function(e){for(var r,t=1,o=arguments.length;t<o;t++)for(var i in r=arguments[t])Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);return e},d.apply(this,arguments)},x=function(e,r,t){if(t||2===arguments.length)for(var o,i=0,n=r.length;i<n;i++)!o&&i in r||(o||(o=Array.prototype.slice.call(r,0,i)),o[i]=r[i]);return e.concat(o||Array.prototype.slice.call(r))};exports.default=function(r){var t=r.field,f=r.methods,m=f.control;f.getValues;var v=f.setValue,j=f.trigger,b=f.formState.errors,g=r.hideTitle,h=o.useMemo((function(){var e=t.options||[];return t.randomizeOptions&&(e=u.shuffleArray(t.options||[])),e.map((function(e){return a.getOptionFromConfig(e,t.optionConfig)}))}),[t.options,t.optionConfig]);function y(e,r,o){if(t.multiple)if(r)v(t.attribute,x(x([],o||[],!0),[e.value],!1));else{var i=(o||[]).findIndex((function(r){return p.default(r,e.value)}));if(i>-1){var n=x([],o,!0);return n.splice(i,1),0===n.length&&(n=void 0),void v(t.attribute,n)}}else v(t.attribute,r?e.value:void 0)}var q=function(e,r,t){var o;return o=e.multiple&&Array.isArray(t)?t&&t.findIndex((function(e){return p.default(e,r.value)}))>-1:p.default(t,r.value),d({id:e.id||e.attribute,key:r.key,color:"primary",checked:o,onChange:function(e){return y(r,e.target.checked,t)}},e.props)},C=function(e){var r;return d(d({error:!!c.default(b,e.attribute),onBlur:function(){return j(e.attribute)}},e.groupContainerProps),{sx:d({flexWrap:"wrap"},null===(r=e.groupContainerProps)||void 0===r?void 0:r.sx)})};return e.jsxRuntime.exports.jsx(i.Controller,{name:t.attribute,control:m,render:function(r){var i,u=r.field;return e.jsxRuntime.exports.jsxs(o.Fragment,{children:[!g&&t.title&&e.jsxRuntime.exports.jsx(s.Title,{field:t}),e.jsxRuntime.exports.jsxs(n.FormGroup,{children:[e.jsxRuntime.exports.jsx(n.FormControl,d({component:"fieldset"},C(t),{children:h.map((function(r,o){return e.jsxRuntime.exports.jsx(n.FormControlLabel,d({control:e.jsxRuntime.exports.jsx(n.Checkbox,d({},q(t,r,u.value))),label:r.label},t.labelProps),t.attribute+"-"+o)}))})),!!c.default(b,t.attribute)&&e.jsxRuntime.exports.jsx(l.ErrorText,{error:null===(i=c.default(b,t.attribute))||void 0===i?void 0:i.message})]})]})}})};
