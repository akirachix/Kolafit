"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./jsx-runtime-1efc2582.js"),t=require("date-fns"),r=require("lodash/get"),n=require("react"),i=require("react-hook-form"),o=require("@mui/icons-material"),u=require("@mui/lab"),a=require("@mui/lab/AdapterDateFns"),s=require("@mui/material"),l=require("./Title-2c571786.js");function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=d(r),m=d(a),x=function(){return x=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},x.apply(this,arguments)};exports.default=function(r){var a=r.field,d=r.methods,p=d.control;d.getValues;var f=d.setValue,j=d.trigger,y=d.formState.errors,b=r.hideTitle,v=n.useState(),h=v[0],g=v[1],k=n.useCallback((function(t){return a.keyboard?e.jsxRuntime.exports.jsx(u.DesktopDateTimePicker,x({},t)):e.jsxRuntime.exports.jsx(u.MobileDateTimePicker,x({},t))}),[a.keyboard]),R=function(r,n){return x(x({ampm:!1,inputFormat:"dd/MM/yyyy HH:mm",label:r.label,InputProps:{endAdornment:e.jsxRuntime.exports.jsx(s.InputAdornment,x({position:"end"},{children:e.jsxRuntime.exports.jsx(s.IconButton,x({"aria-label":"open date time picker",size:"large"},{children:e.jsxRuntime.exports.jsx(o.Event,{})}))})),sx:{pr:r.keyboard?void 0:0}},open:!!h,onClose:function(){return g(!1)}},r.props),{value:n?t.parse(n,"yyyy-MM-dd HH:mm:ss",new Date):null,onChange:function(e){if(e)try{var n=t.format(e,"yyyy-MM-dd HH:mm:00");f(r.attribute,n)}catch(e){console.log(e)}else f(r.attribute,void 0)},renderInput:function(t){var n;return e.jsxRuntime.exports.jsx(s.TextField,x({fullWidth:!0,size:"small"},t,{onClick:function(){return g(!0)},error:!!c.default(y,r.attribute),helperText:null===(n=c.default(y,r.attribute))||void 0===n?void 0:n.message,onKeyDown:function(e){"Enter"===e.key&&j(r.attribute)}}))}})};return e.jsxRuntime.exports.jsx(i.Controller,{name:a.attribute,control:p,render:function(t){var r=t.field;return e.jsxRuntime.exports.jsxs(n.Fragment,{children:[!b&&a.title&&e.jsxRuntime.exports.jsx(l.Title,{field:a}),e.jsxRuntime.exports.jsx(s.Box,{children:e.jsxRuntime.exports.jsx(u.LocalizationProvider,x({dateAdapter:m.default},{children:k(R(a,r.value))}))})]})}})};
