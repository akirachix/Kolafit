"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./jsx-runtime-1efc2582.js"),t=require("date-fns"),r=require("lodash/get"),n=require("react"),i=require("react-hook-form"),o=require("@mui/icons-material"),u=require("@mui/lab"),a=require("@mui/lab/AdapterDateFns"),s=require("@mui/material"),l=require("./Title-2c571786.js");function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=d(r),x=d(a),p=function(){return p=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},p.apply(this,arguments)};exports.default=function(r){var a=r.field,d=r.methods,f=d.control;d.getValues;var j=d.setValue,m=d.trigger,y=d.formState.errors,b=r.hideTitle,v=n.useState(),h=v[0],g=v[1],R=n.useCallback((function(t){return a.keyboard?e.jsxRuntime.exports.jsx(u.DesktopDatePicker,p({},t)):e.jsxRuntime.exports.jsx(u.MobileDatePicker,p({},t))}),[a.keyboard]),k=function(r,n){return p(p({inputFormat:"dd/MM/yyyy",label:r.label,InputProps:{endAdornment:e.jsxRuntime.exports.jsx(s.InputAdornment,p({position:"end"},{children:e.jsxRuntime.exports.jsx(s.IconButton,p({"aria-label":"open date picker",size:"large"},{children:e.jsxRuntime.exports.jsx(o.DateRange,{})}))})),sx:{pr:r.keyboard?void 0:0}},open:!!h,onClose:function(){return g(!1)}},r.props),{value:n?t.parse(n,"yyyy-MM-dd",new Date):null,onChange:function(e){if(e)try{var n=t.format(e,"yyyy-MM-dd");j(r.attribute,n)}catch(e){console.log(e)}else j(r.attribute,void 0)},renderInput:function(t){var n;return e.jsxRuntime.exports.jsx(s.TextField,p({fullWidth:!0,size:"small"},t,{onClick:function(){return g(!0)},error:!!c.default(y,r.attribute),helperText:null===(n=c.default(y,r.attribute))||void 0===n?void 0:n.message,onKeyDown:function(e){"Enter"===e.key&&m(r.attribute)}}))}})};return e.jsxRuntime.exports.jsx(i.Controller,{name:a.attribute,control:f,render:function(t){var r=t.field;return e.jsxRuntime.exports.jsxs(n.Fragment,{children:[!b&&a.title&&e.jsxRuntime.exports.jsx(l.Title,{field:a}),e.jsxRuntime.exports.jsx(s.Box,{children:e.jsxRuntime.exports.jsx(u.LocalizationProvider,p({dateAdapter:x.default},{children:R(k(a,r.value))}))})]})}})};
