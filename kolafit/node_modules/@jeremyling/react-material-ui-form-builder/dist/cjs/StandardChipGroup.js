"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./jsx-runtime-1efc2582.js"),r=require("lodash/get"),t=require("lodash/isEqual"),i=require("react"),o=require("react-hook-form"),n=require("@mui/material"),u=require("./index-dfe1fee7.js"),l=require("./options-73ec6b96.js"),a=require("./ErrorText-af871538.js"),s=require("./Title-2c571786.js");function p(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("@mui/material/styles");var d=p(r),f=p(t),c=function(){return c=Object.assign||function(e){for(var r,t=1,i=arguments.length;t<i;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},c.apply(this,arguments)},x=function(e,r,t){if(t||2===arguments.length)for(var i,o=0,n=r.length;o<n;o++)!i&&o in r||(i||(i=Array.prototype.slice.call(r,0,o)),i[o]=r[o]);return e.concat(i||Array.prototype.slice.call(r))};exports.default=function(r){var t=r.field,p=r.methods,v=p.control;p.getValues;var m=p.setValue,j=p.trigger,b=p.formState.errors,g=r.hideTitle,h=i.useMemo((function(){var e=t.options||[];return t.randomizeOptions&&(e=u.shuffleArray(t.options||[])),e.map((function(e){return l.getOptionFromConfig(e,t.optionConfig)}))}),[t.options,t.optionConfig]);function y(e,r){if(t.multiple){var i=(r||[]).findIndex((function(r){return f.default(r,e.value)}));if(i>-1){var o=x([],r,!0);return o.splice(i,1),0===o.length&&(o=void 0),void m(t.attribute,o)}m(t.attribute,x(x([],r||[],!0),[e.value],!1))}else{if(f.default(r,e.value))return void m(t.attribute,void 0);m(t.attribute,e.value)}}var q=function(e,r,t){var i,o,n,u;return u=e.multiple&&Array.isArray(t)?t&&t.findIndex((function(e){return f.default(e,r.value)}))>-1:f.default(t,r.value),c(c({id:e.id||e.attribute,key:r.key,label:r.label,color:u?"primary":"default",variant:u?"filled":"outlined"},e.props),{sx:c(c({height:"auto",margin:"4px 8px 4px 0",borderRadius:"20px"},null===(i=e.props)||void 0===i?void 0:i.sx),{"& .MuiChip-label":c({padding:"8px"},null===(o=e.labelProps)||void 0===o?void 0:o.style)}),onClick:(null===(n=e.props)||void 0===n?void 0:n.onClick)?e.props.onClick(r,t):function(){return y(r,t)}})},C=function(e){var r;return c(c({error:!!d.default(b,e.attribute),onBlur:function(){return j(e.attribute)}},e.groupContainerProps),{sx:c({flexWrap:"wrap"},null===(r=e.groupContainerProps)||void 0===r?void 0:r.sx)})};return e.jsxRuntime.exports.jsx(o.Controller,{name:t.attribute,control:v,render:function(r){var o,u=r.field;return e.jsxRuntime.exports.jsxs(i.Fragment,{children:[!g&&t.title&&e.jsxRuntime.exports.jsx(s.Title,{field:t}),e.jsxRuntime.exports.jsxs(n.FormGroup,{children:[e.jsxRuntime.exports.jsx(n.FormControl,c({component:"fieldset"},C(t),{children:h.map((function(r,i){return e.jsxRuntime.exports.jsx(n.Box,{children:e.jsxRuntime.exports.jsx(n.Chip,c({},q(t,r,u.value)))},t.attribute+"-"+i)}))})),!!d.default(b,t.attribute)&&e.jsxRuntime.exports.jsx(a.ErrorText,{error:null===(o=d.default(b,t.attribute))||void 0===o?void 0:o.message})]})]})}})};
