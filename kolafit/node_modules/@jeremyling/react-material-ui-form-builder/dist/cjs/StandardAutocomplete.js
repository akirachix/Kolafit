"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("./jsx-runtime-1efc2582.js"),r=require("lodash/get"),n=require("lodash/isEqual"),i=require("lodash/isObject"),u=require("react-hook-form"),o=require("@mui/material"),l=require("./index-dfe1fee7.js"),a=require("./Title-2c571786.js");function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var f=s(r),d=s(n),p=s(i);function c(e,t,r){var n=e;if(!t)return n;if(t.value)if(r&&Array.isArray(e)){for(var i=[],u=0,o=e;u<o.length;u++){var l=o[u];p.default(l)?i.push(f.default(l,t.value)):i.push(l)}n=i}else n=f.default(e,t.value);return n}function v(e,t,r,n){if(!r)return String(e);if(p.default(e))return String(f.default(e,r.label));if(null==r?void 0:r.value){var i=t.find((function(t){return c(t,r,n)===e}))||{};return String(f.default(i,r.label))}return String(e||"")}var m=function(){return m=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},m.apply(this,arguments)};exports.default=function(r){var n=r.field,i=r.methods,s=i.control;i.getValues;var g=i.setValue,x=i.trigger,b=i.formState.errors,j=r.hideTitle,h=e.useState();h[0];var q=h[1],C=function(e,t){var r=e||[];return t&&(r=l.shuffleArray(r)),r}(n.options,n.randomizeOptions);function y(r,n){var i,u,l,a=(null===(i=r.props)||void 0===i?void 0:i.multiple)||!1;null===(u=r.props)||void 0===u||u.disableClearable,null===(l=r.props)||void 0===l||l.freeSolo;var s=m(m({id:r.id||r.attribute,size:"small",fullWidth:!0,isOptionEqualToValue:function(e,t){return p.default(t)?d.default(c(e,r.optionConfig,a),c(t,r.optionConfig,a)):c(e,r.optionConfig,a)===t},getOptionLabel:function(e){return v(e,C,r.optionConfig)},onChange:function(e,t){g(r.attribute,c(t,r.optionConfig,a))},onBlur:function(){q(!1),x(r.attribute)},onFocus:function(){return q(!0)},value:n||(a?[]:"")},r.props),{options:C,renderInput:function(e){var n;return t.jsxRuntime.exports.jsx(o.TextField,m({},e,{variant:"outlined",size:"small",inputProps:m(m({},e.inputProps),{autoComplete:"off"}),label:r.label,error:!!f.default(b,r.attribute),helperText:null===(n=f.default(b,r.attribute))||void 0===n?void 0:n.message}))}});return a&&(s=m(m({},s),{renderTags:function(t,n){return t.map((function(t,i){return e.createElement(o.Chip,m({variant:"outlined",size:"small",label:v(t,C,r.optionConfig)},n({index:i}),{key:i}))}))}})),s}return t.jsxRuntime.exports.jsx(u.Controller,{name:n.attribute,control:s,render:function(r){var i=r.field;return t.jsxRuntime.exports.jsxs(e.Fragment,{children:[!j&&n.title&&t.jsxRuntime.exports.jsx(a.Title,{field:n}),t.jsxRuntime.exports.jsx(o.Autocomplete,m({},y(n,i.value)))]})}})};
