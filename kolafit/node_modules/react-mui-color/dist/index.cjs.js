"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("@mui/material"),r=require("@mui/material/colors"),l=require("@mui/system");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=n(e);const o=["#000000",r.grey[900],r.grey[700],r.grey[500],r.grey[400],r.grey[300],r.grey[100],"#ffffff",r.red[700],r.red[500],r.red[300],r.red[100],r.pink[700],r.pink[500],r.pink[300],r.pink[100],r.purple[700],r.purple[500],r.purple[300],r.purple[100],r.indigo[700],r.indigo[500],r.indigo[300],r.indigo[100],r.blue[700],r.blue[500],r.blue[300],r.blue[100],r.cyan[700],r.cyan[500],r.cyan[300],r.cyan[100],r.teal[700],r.teal[500],r.teal[300],r.teal[100],r.green[700],r.green[500],r.green[300],r.green[100],r.lime[700],r.lime[500],r.lime[300],r.lime[100],r.amber[700],r.amber[500],r.amber[300],r.amber[100],r.orange[700],r.orange[500],r.orange[300],r.orange[100]];function i(e){const{s:t,v:r}=function(e){var{r:t,g:r,b:l}=d(e);t/=255,r/=255,l/=255;const n=Math.max(t,r,l),a=n-Math.min(t,r,l);return{h:a?60*(n===t?(r-l)/a+(r<l?6:0):n===r?2+(l-t)/a:4+(t-r)/a):0,s:n?a/n*100:0,v:100*n}}(e.rgb.value);return[t,100-r]}function u(e){var{r:t,g:r,b:l}=d(e);t/=255,r/=255,l/=255;const n=Math.min(t,r,l),a=Math.max(t,r,l),o=a-n;var i=0,u=(a+n)/2;return i=0===o?0:a===t?(r-l)/o%6:a==r?(l-t)/o+2:(t-r)/o+4,(i=Math.round(60*i))<0&&(i+=360),`hsl(${i}, ${+(100*(0==o?0:o/(1-Math.abs(2*u-1)))).toFixed(1)}%, ${u=+(100*u).toFixed(1)}%)`}function d(e){var t,r,l;const n=/rgb\((\d+),\s?(\d+),\s?(\d+)\)/i.exec(e);return{value:e,r:Number(null!==(t=null==n?void 0:n[1])&&void 0!==t?t:0),g:Number(null!==(r=null==n?void 0:n[2])&&void 0!==r?r:0),b:Number(null!==(l=null==n?void 0:n[3])&&void 0!==l?l:0)}}function s(e){var t,r,l;const n=/hsl\((\d+),\s?([\d.]+)%,\s?([\d.]+)%\)/i.exec(e);return{value:e,h:Number(null!==(t=null==n?void 0:n[1])&&void 0!==t?t:0),s:Number(null!==(r=null==n?void 0:n[2])&&void 0!==r?r:0),l:Number(null!==(l=null==n?void 0:n[3])&&void 0!==l?l:0)}}function c(e,t,r){return r?Math.min(e,t)===e?t:Math.max(e,r)===e?r:e:Math.max(e,t)===t?e:t}const f=e=>{var r,l;const{parsedColor:n,satCoords:o,hueCoords:i,onSaturationChange:u,onHueChange:d}=e;return a.default.createElement(t.Stack,{id:"cp-free-root",spacing:1,sx:{mb:2,width:"455px",maxWidth:"100%"}},a.default.createElement(t.Box,{id:"cp-saturation",sx:{width:"100%",height:"142px",backgroundColor:`hsl(${n.hsl.h}, 100%, 50%)`,backgroundImage:"linear-gradient(transparent,black),linear-gradient(to right,white,transparent)",borderRadius:"4px",position:"relative",cursor:"crosshair"},onClick:u},a.default.createElement(t.Box,{id:"cp-saturation-indicator",sx:{width:"15px",height:"15px",border:"2px solid #ffffff",borderRadius:"50%",backgroundColor:n.hex.value,transform:"translate(-7.5px, -7.5px)",position:"absolute",left:(null!==(r=null==o?void 0:o[0])&&void 0!==r?r:0)+"%",top:(null!==(l=null==o?void 0:o[1])&&void 0!==l?l:0)+"%"}})),a.default.createElement(t.Box,{id:"cp-hue",sx:{width:"100%",height:"12px",backgroundImage:"linear-gradient(to right,#ff0000,#ffff00,#00ff00,#00ffff,#0000ff,#ff00ff,#ff0000)",borderRadius:"999px",position:"relative",cursor:"crosshair"},onClick:d},a.default.createElement(t.Box,{id:"cp-hue-indicator",sx:{width:"15px",height:"15px",border:"2px solid #ffffff",borderRadius:"50%",backgroundColor:n.hex.value,transform:"translate(-7.5px, -2px)",position:"absolute",left:(null!=i?i:0)+"%"}})))},p=e=>{const{parsedColor:r,colors:l,onSelect:n}=e;return a.default.createElement(t.Box,{id:"cp-predefined-root",sx:{mb:2,display:"flex",flexDirection:"column",flexWrap:"wrap",height:"142px",width:"455px",maxWidth:"100%",overflow:"auto",scrollbarWidth:"none",msOverflowStyle:"none","&::-webkit-scrollbar":{display:"none"}}},l.map((e=>a.default.createElement(t.Button,{className:"cp-predefined-button",key:e,onClick:t=>n(e,!1),sx:{minWidth:"auto",p:"5px",border:t=>e===(null==r?void 0:r.hex.value)?"1px solid "+t.palette.primary.main:"none"}},a.default.createElement(t.Paper,{className:"cp-predefined-color",elevation:1,sx:{width:"25px",height:"25px",borderRadius:"50%",background:e}})))))},h=r=>{const{color:n,initialColor:o,colors:h,onChange:g,variant:m,sx:x}=r,[b,v]=e.useState(o||"#181d23"),C=e.useMemo((()=>function(e){var t="",r="",n="";return"#"===e.slice(0,1)?(t=e,n=u(r=l.hexToRgb(e))):"rgb"===e.slice(0,3)?(r=e,t=l.rgbToHex(e),n=u(e)):"hsl"===e.slice(0,3)&&(n=e,r=l.hslToRgb(e),t=l.rgbToHex(r)),{hex:{value:t},rgb:d(r),hsl:s(n)}}(n||b)),[n,b]),w=e.useMemo((()=>i(C)),[C]),y=e.useMemo((()=>function(e){const{h:t}=e.hsl;return t/360*100}(C)),[C]);function E(e){v(e),g(e)}const k=e.useCallback(((e,r)=>{const{r:l,g:n,b:a}=C.rgb;switch(e){case"r":return void E(t.rgbToHex(`rgb(${null!=r?r:0}, ${n}, ${a})`));case"g":return void E(t.rgbToHex(`rgb(${l}, ${null!=r?r:0}, ${a})`));case"b":return void E(t.rgbToHex(`rgb(${l}, ${n}, ${null!=r?r:0})`));default:return}}),[null==C?void 0:C.rgb]),M=e.useCallback((e=>{const{width:r,height:l,left:n,top:a}=e.currentTarget.getBoundingClientRect(),o=c(e.clientX-n,0,r)/r*100,i=100-c(e.clientY-a,0,l)/l*100,u=function(e,t,r){const l=~~(e/60),n=e/60-l,a=(r/=100)*(1-(t/=100)),o=r*(1-t*n),i=r*(1-t*(1-n)),u=l%6;return`rgb(${Math.round(255*[r,o,a,a,i,r][u])}, ${Math.round(255*[i,r,r,o,a,a][u])}, ${Math.round(255*[a,a,i,r,r,o][u])})`}(null==C?void 0:C.hsl.h,o,i);E(t.rgbToHex(u))}),[null==C?void 0:C.hsl.h]),$=e.useCallback((e=>{const{width:r,left:l}=e.currentTarget.getBoundingClientRect(),n=c(e.clientX-l,0,r),a=`hsl(${Math.round(n/r*360)}, ${null==C?void 0:C.hsl.s}, ${null==C?void 0:C.hsl.l})`,o=t.hslToRgb(a);E(t.rgbToHex(o))}),[null==C?void 0:C.hsl.s,null==C?void 0:C.hsl.l]);return a.default.createElement(t.Box,{sx:Object.assign({m:1,overflow:"auto",scrollbarWidth:"none",msOverflowStyle:"none","&::-webkit-scrollbar":{display:"none"}},x)},"predefined"===m?a.default.createElement(p,{colors:h,parsedColor:C,onSelect:g}):a.default.createElement(f,{parsedColor:C,satCoords:w,hueCoords:y,onSaturationChange:M,onHueChange:$}),a.default.createElement(t.Grid,{container:!0,spacing:1,justifyContent:"space-between"},a.default.createElement(t.Grid,{item:!0,container:!0,spacing:1,display:"flex",alignItems:"center",xs:12,md:6},a.default.createElement(t.Grid,{item:!0},a.default.createElement(t.Paper,{elevation:1,sx:{width:"25px",height:"25px",borderRadius:"50%",background:C.hex.value}})),a.default.createElement(t.Grid,{item:!0},a.default.createElement(t.TextField,{size:"small",label:"Hex",value:null==C?void 0:C.hex.value,onChange:e=>{var t=e.target.value;"#"!==(null==t?void 0:t.slice(0,1))&&(t="#"+t),E(t)},sx:{width:"95px"}}))),a.default.createElement(t.Grid,{item:!0,container:!0,spacing:1,display:"flex",justifyContent:"end",xs:12,md:6},a.default.createElement(t.Grid,{item:!0},a.default.createElement(t.TextField,{size:"small",label:"R",value:C.rgb.r,onChange:e=>k("r",e.target.value),sx:{width:"60px"},inputProps:{inputMode:"numeric",pattern:"[0-9]*"}})),a.default.createElement(t.Grid,{item:!0},a.default.createElement(t.TextField,{size:"small",label:"G",value:C.rgb.g,onChange:e=>k("g",e.target.value),sx:{width:"60px"},inputProps:{inputMode:"numeric",pattern:"[0-9]*"}})),a.default.createElement(t.Grid,{item:!0},a.default.createElement(t.TextField,{size:"small",label:"B",value:C.rgb.b,onChange:e=>k("b",e.target.value),sx:{width:"60px"},inputProps:{inputMode:"numeric",pattern:"[0-9]*"}})))))};h.defaultProps={initialColor:"#181d23",colors:o,onChange:e=>{},variant:"predefined",sx:{}},exports.ColorPicker=h;
